# 2025秋季学期-数据结构 lab8

> 负责助教：覃逸成



## Lab说明

- 请使用**Java或C++**完成本课程的Lab编写（如果使用Python等其他语言，在批阅时会酌情扣分）。
- 由于本课程的Lab将以测试用例的通过情况作为最终评分的主要依据，因此请预先注册洛谷（https://www.luogu.com.cn）账号，用户名统一命名为**学号\_姓名**。
- **Lab提交**：
  1. 将代码打包成**.zip压缩包**，命名格式为**学号\_姓名\_lab8.zip**，上传至elearning平台
  2. 通过本次Lab的洛谷链接加入比赛，提交并运行每道题，**请确保你已经在洛谷平台上使用测试用例进行过评分**。
  3. 准确完成上述两项内容后，本次Lab计为有效。
- **Lab评分**主要包含三个维度，请注意：
  1. 洛谷平台对应每道题目的得分（主要评分依据）
  2. 代码关键环节提供**适当的代码注释**
  3. 代码风格是否格式整洁、具有良好可读性
- 切勿抄袭！若检测到代码/注释存在雷同，一经查实，双方均按零分处理。
- **本次Lab截止日期为2025年12月9日23:59**。

> 本次Lab的洛谷链接：[Lab8 - 洛谷 | 计算机科学教育新生态](https://www.luogu.com.cn/contest/293590)
>
> 邀请码：vpcl



## 题目清单

### 计算项目的关键路径

给定一个带权有向无环图（DAG），用于表示项目的事件 - 活动网络：
- 顶点代表事件，其中顶点 0 是项目的唯一起点事件，顶点 n-1 是项目的唯一终点事件；
- 有向边代表活动，边的权重表示该活动的持续时间（正整数）；
- 活动需遵循事件的先后关系：只有边的起点事件完成后，对应的活动才能开始，边的终点事件才能触发。

要求基于该网络完成以下计算任务：
1. 计算每个事件的最早发生时间（TE）：从起点事件出发，该事件最早能完成的时间；
1. 计算每个事件的最迟发生时间（TL）：在不延误项目总工期的前提下，该事件最晚能开始的时间；
1. 输出唯一的关键路径（按事件先后顺序描述，格式为 v0->v1->...->vn-1）及项目的最短总工期（即关键路径的总权重）。



**输入格式**

第一行输入两个整数 n 和 m，分别表示事件数（顶点数）和活动数（边数）；
接下来 m 行，每行输入三个整数 u、v、t，表示一条从事件 u 到事件 v 的活动，其持续时间为 t。



**输出格式**

输出共 4 部分，按以下顺序输出：

1. 第一行：TE0 TE1 ... TEn-1，其中 TEi 表示事件 i 的最早发生时间；
1. 第二行：TL0 TL1 ... TLn-1，其中 TLi 表示事件 i 的最迟发生时间；
1. 第三行：v0 v1 ... vn-1，其中 v0, v1, ..., vn-1 是关键路径上的事件，按先后顺序排列；
1. 第四行：X，其中 X 是项目的最短总工期（即关键路径的总持续时间）。第一行输入两个整数 n 和 m，分别表示事件数（顶点数）和活动数（边数）；



**输入输出样例**

**输入 #1**

```
5 6
0 1 3
0 2 2
1 3 4
2 3 5
1 4 6
3 4 2
```

**输出 #1**

```
0 3 2 7 9
0 3 2 7 9
0 1 3 4
9
```



**说明/提示**

1. 图为单起点、单终点的 DAG，无自环和重边；
2. 关键路径唯一（确保输出无歧义）；
3. 顶点数范围：2 ≤ n ≤ 20，边数范围：1 ≤ m ≤ 200；
4. 活动持续时间：1 ≤ t ≤ 100（正整数）。