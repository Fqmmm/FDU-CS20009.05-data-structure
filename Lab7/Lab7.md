# 2025秋季学期-数据结构 Lab7

> 负责助教：于海涛



## Lab说明

- 请使用**C++或Java**完成本课程的Lab编写（如果使用Python等其他语言，在批阅时会酌情扣分）。
- 由于**本课程的Lab将以测试用例的通过情况作为最终评分的主要依据**，因此请预先注册洛谷（https://www.luogu.com.cn）账号，用户名统一命名为**姓名的小写字母缩写\_学号**，**例如张三同学的用户名为zs_1234567890**。用户名只有一次修改机会，若本步骤出错请更换其他邮箱重新注册账号。
- **Lab提交**：
  1. 将代码打包成**.zip压缩包**，命名格式为**学号\_姓名\_Lab7.zip**，上传至elearning平台
  2. 通过本次Lab的洛谷链接加入比赛，提交并运行每道题，**请确保你已经在洛谷平台上使用测试用例进行过评分**。
  3. 准确完成上述两项内容后，本次Lab计为有效。
- **Lab评分**主要包含三个维度，请注意：
  1. 洛谷平台对应每道题目的得分（主要评分依据）
  2. 代码关键环节提供**适当的代码注释**
  3. 代码风格是否格式整洁、具有良好可读性
- 切勿抄袭！若检测到代码/注释存在雷同，一经查实，双方均按零分处理。
- **本次Lab截止日期为2025年12月1日23:59**。

> 本次Lab的洛谷链接：https://www.luogu.com.cn/contest/277700
> 邀请码：45bh



## 题目清单

### 1. 程序分析

#### 题目背景

在实现程序自动分析的过程中，常常需要判定一些约束条件是否能被同时满足。

考虑一个约束满足问题的简化版本：假设 $x_1, x_2, x_3,\ldots$ 代表程序中出现的变量，给定 $n$ 个形如 $x_i=x_j$ 或 $x_i \neq x_j$ 的变量相等/不等的约束条件，请判定是否可以分别为每一个变量赋予恰当的值，使得上述所有约束条件同时被满足。例如，一个问题中的约束条件为：$x_1 = x_2, \ x_2 = x_3, \ x_3 = x_4, \ x_1 \neq x_4$，这些约束条件显然是不可能同时被满足的，因此这个问题应判定为不可被满足。 

#### 题目描述

现在给出**多个相互独立的**约束满足问题，请分别对它们进行判定并给出结果。

#### 输入格式

第一行包含一个正整数 $t$，表示需要判定的问题个数。

对于每个问题，包含若干行：

- 第一行包含一个正整数 $n$，表示该问题中需要被满足的约束条件个数。
- 接下来 $n$ 行，每行包括三个整数 $i,j,e$，描述一个相等/不等的约束条件，相邻整数之间用单个空格隔开。若 $e=1$，则该约束条件为 $x_i=x_j$；若 $e=0$，则该约束条件为 $x_i \neq x_j$。

#### 输出格式

输出包括 $t$ 行，其中第 $k$ 行输出一个字符串 `YES` 或者 `NO`（不包含引号，字母全部大写），`YES` 表示输入中的第 $k$ 个问题判定为可以被满足，`NO`表示不可被满足。

#### 输入输出样例

##### 输入 #1

```
2
2
1 2 1
1 2 0
2
1 2 1
2 1 1
```

##### 输出 #1

```
NO
YES
```

##### 输入 #2

```
1
5
1 2 1
2 3 1
3 4 0
4 5 1
1 5 0
```

##### 输出 #2

```
YES
```

##### 输入 #3

```
3
3
1 2 1
2 3 1
1 3 0
4
1 1 0
2 3 1
3 4 1
2 4 1
5
1 2 1
3 4 0
2 3 0
4 5 1
5 1 1
```

##### 输出 #3

```
NO
NO
YES
```

#### 提示说明

$1 \leq t \leq 10, \ 1 \leq n \leq 10^6, \ 1 \leq i,j \leq 10^9$。

#### Hint

你可能需要将并查集的思想应用到本题场景下。



### 2. 最小生成树

#### 题目背景

最小生成树（Minimum Spanning Tree, MST）是图论中连接无向图所有顶点的极小连通子图，其边权总和达到最小值。该结构包含原图所有顶点及保持连通的 $n-1$ 条边。

#### 题目描述

给定结点数为 $n$，边数为 $m$ 的带权无向连通图 $G$，所有结点编号为 $1,2,\cdots,n$。

求 $G$ 的最小生成树的**边权和**。

#### 输入格式

第一行两个正整数 $n,m$。

之后的 $m$ 行，每行三个正整数 $u_i,v_i,w_i（1\le u_i,v_i\le n，0\le w_i\le 10^9）$，描述一条连接结点 $u_i$ 和 $v_i$，边权为 $w_i$ 的边。

#### 输出格式

一个整数表示 $G$ 的最小生成树的边权和。

#### 输入输出样例

##### 输入 #1

```
3 3
1 2 1
2 3 1
1 3 1
```

##### 输出 #1

```
2
```

##### 输入 #2

```
4 5
1 2 1
1 3 2
2 3 3
3 4 4
1 4 5
```

##### 输出 #2

```
7
```

##### 输入 #3

```
7 12
1 2 9
1 5 2
1 6 3
2 3 5
2 6 7
3 4 6
3 7 3
4 5 6
4 7 2
5 6 3
5 7 6
6 7 1
```

##### 输出 #3

```
16
```

#### 提示说明

$1\le n\le 2\times 10^5，0\le m\le 5\times 10^5$。

#### Hint

- 注意数据范围。
- 允许使用 `qsort()` 等编译器函数库自带的排序函数。



